\documentclass[10pt, a4paper]{article}

\usepackage[T2A]{fontenc}		%cyrillic output
\usepackage[utf8]{inputenc}		%cyrillic output
\usepackage[english, russian]{babel}	%word wrap
\usepackage{amssymb, amsfonts, amsmath}	%math symbols
\usepackage{mathtext}			%text in formulas
\usepackage{geometry}			%paper format attributes
\usepackage{fancyhdr}			%header
\usepackage{graphicx}			%input pictures
\usepackage{tabularx}			%smart table
\usepackage{longtable}			%long table
\usepackage{tikz, pgfplots}		%draw pictures and graphics
\usetikzlibrary{patterns}		%draw pictures: fill
\usetikzlibrary{positioning}	%draw pictures: below of
\usetikzlibrary{calc}			%draw pictures: $\i$
\usepackage{listofitems}		%draw from tex-list
\usepackage{enumitem}			%enumarate parameters

\geometry{left=2cm, right=2cm, top=2cm, bottom=2cm, headheight=15pt}
\setlist[enumerate]{leftmargin=*}	%remove enumarate indenttion
\sloppy							%correct overfull
\pagestyle{empty}				%no page numbers

\newcommand{\accept}[2]{
	\centerline{\boxed{#1}}
	\newline
	\centerline{\scriptsize{#2}}
}
\newcommand{\reject}[1]{
	\centerline{#1}
}


\newcommand{\head}[4]
{
	\thispagestyle{fancy}
	\fancyhf{}
	\chead{#3, #4}

	\begin{center}
	\begin{large}
	#1 \\
	\textit{#2}\\
	\end{large}
	\end{center}

}


% format

\newcommand{\informat}[1]
{
	\subsubsection*{Ввод} #1
}

\newcommand{\outformat}[1]
{
	\subsubsection*{Вывод} #1
}

\newcommand{\example}[2]
{
	\subsubsection*{Пример}
	\noindent
	\begin{center}
	\begin{tabularx}{\linewidth}{|X|X|}
	\hline
	Ввод & Вывод \\
	\hline
	{\tt #1} & {\tt #2}		\\
	\hline
	\end{tabularx}
	\end{center}
}

\newcommand{\examplelong}[2]
{
	\subsubsection*{Пример}
	\noindent
	\begin{center}
	\begin{tabularx}{\textwidth}{|l|X|}
	\hline
	Ввод & Вывод \\
	\hline
	#1 & #2		\\
	\hline
	\end{tabularx}
	\end{center}
}

\newcommand{\examplee}[4]
{
	\subsubsection*{Пример}
	\noindent
	\begin{center}
	\begin{tabularx}{\linewidth}{|X|X|}
	\hline
	Ввод 	& Вывод  	\\
	\hline
	{\tt #1} & {\tt #2}	\\
	\hline
	{\tt #3} & {\tt #4}	\\
	\hline
	\end{tabularx}
	\end{center}
}

\newcommand{\exampleee}[6]
{
	\subsubsection*{Пример}
	\noindent
	\begin{center}
	\begin{tabularx}{\linewidth}{|X|X|}
	\hline
	Ввод 	& Вывод  	\\
	\hline
	{\tt #1} & {\tt #2}	\\
	\hline
	{\tt #3} & {\tt #4}	\\
	\hline
	{\tt #5} & {\tt #6}	\\
	\hline
	\end{tabularx}
	\end{center}
}

\newcommand{\exampleeee}[8]
{
	\subsubsection*{Пример}
	\noindent
	\begin{center}
	\begin{tabularx}{\linewidth}{|X|X|}
	\hline
	Ввод 	& Вывод  	\\
	\hline
	{\tt #1} & {\tt #2}	\\
	\hline
	{\tt #3} & {\tt #4}	\\
	\hline
	{\tt #5} & {\tt #6}	\\
	\hline
	{\tt #7} & {\tt #8}	\\
	\hline
	\end{tabularx}
	\end{center}
}

\newcommand{\exampleeeee}[5]
{
	\subsubsection*{Пример}
	\begin{center}
	\begin{tabularx}{\linewidth}{|X|X|}
	\hline
	Ввод 	& Вывод  	\\
	\hline
	#1		\\
	\hline
	#2		\\
	\hline
	#3		\\
	\hline
	#4		\\
	\hline
	#5		\\
	\hline
	\end{tabularx}
	\end{center}
}

\newcommand{\examplepic}[3]
{
	\subsubsection*{Пример}
	\noindent
	\begin{center}
	\begin{tabularx}{\linewidth}{|l|l|X|}
	\hline
	Ввод 	& Вывод  	& Пояснение\\
	\hline
	{\tt #1} 		& {\tt #2} 		& #3\\
	\hline
	\end{tabularx}
	\end{center}
}


\newcommand{\excomm}[1]
{
	\subsubsection*{Комментарий}
	\textit{#1}
}

\newcommand{\problemauthor}[1]{
\begin{flushright}
\textit{Автор: #1}
\end{flushright}
}

\newcommand{\problemofferer}[1]{
\begin{flushright}
\textit{Предложил: #1}
\end{flushright}
}

\usepackage{listings}
\lstset{language=C,
        basicstyle=\ttfamily,
        keywordstyle=\color{blue},
        frame=single,
        numbers=left,
        tabsize=4}

\begin{document}

\head{Открытая командная олимпиада по программированию \\ Осенний тур 2018}{20 октября 2018}{Казахстанский филиал МГУ имени М.В.Ломоносова}{г.~Астана}

\subsection*{A. Archeologist’s find}

Ануар увлекается историей и в свободное время участвует в раскопках. Так, недавно он нашёл среди амфор и бус странный объект прямоугольной формы. Подняв устройство, Ануар увидел, что его передняя панель состоит из экрана и цифровой клавиатуры. Наверху была полустёртая надпись NOK\_A. <<Наверно, один из тех старых телефонов, о прочности которых слагали легенды!>> - подумал он, тщетно пытаясь не выдать свою радость. Как и ожидалось, телефон работал; более того, на нём даже можно было сыграть в забытый всеми вариант <<Змейки>>. Змейка здесь представлена одной точкой, в начале игры находящейся в центре координатной плоскости и направленной вправо. После того, как точка-змейка начала двигаться, можно поворачивать влево и вправо. Ануар понимает, что находку надо беречь, поэтому хочет дойти до цели, нажав при этом как можно меньше кнопок.


\informat{Два целых числа от $-1000$ до $1000$ --- координаты целевой точки}

\outformat{Одно целое неотрицательное число --- минимальное количество поворотов, которое надо сделать, чтобы достичь целевой точки.}

\exampleeee{5 0}{0}{5 1}{1}{-4 0}{3}{0 0}{0}

\excomm{Обратите внимание, что на каждом шаге можно сделать не более одного поворота. В частности, нельзя разворачиваться на месте.}

\newpage

\subsection*{B. Board rotating }

Азат расставил несколько шашек на квадратной доске $16 \times 16$ и дружелюбно показал вам расстановку. Затем он уже не так дружелюбно повернул доску на 90 градусов вокруг центра и совсем не дружелюбно не стал показывать, как стала выглядеть доска. Узнайте окончательную расстановку шашек.

\informat{Таблица $16 \times 16$ из символов ‘R’, ‘L’ и ‘.’ --- начальная расстановка. Пустые клетки обозначены точками, все клетки с шашками заменены на ‘R’, если доску нужно повернуть вправо (по часовой стрелке) или на ‘L’, если влево (против часовой стрелки). Гарантируется, что в таблице есть хотя бы один символ, отличный от ‘.’}

\outformat{Таблица $16 \times 16$  из символов ‘R’, ‘L’ и ‘.’ --- конечная расстановка.}

\example{
................\newline
................\newline
R...R..RR..R...R\newline
RR.RR.R....R...R\newline
R.R.R..RR..R...R\newline
R...R....R.R...R\newline
R...R..RR...RRRR\newline
................\newline
................\newline
..R....RR..RRRRR\newline
.R.R..R......R..\newline
RRRRR..RR....R..\newline
R...R....R...R..\newline
R...R..RR....R..\newline
................\newline
................
}{
..RRR....RRRRR..\newline
....RR......R...\newline
....R.R....R....\newline
....RR......R...\newline
..RRR....RRRRR..\newline
................\newline
.....R......R...\newline
..R.R.R..R.R.R..\newline
..R.R.R..R.R.R..\newline
...R......R.....\newline
................\newline
......R...RRRR..\newline
......R..R......\newline
..RRRRR..R......\newline
......R..R......\newline
......R..RRRRR..
}

\newpage

\subsection*{C. Counting pixels}

У Валерия есть бесконечный лист с равномерной квадратной разметкой. Он проводит на нём отрезок, соединяющий центры двух клеток и закрашивает все клетки, у которых есть хотя бы одна внутренняя точка, принадлежащая проведённому отрезку. Нам, конечно же, интересно, откуда у него бесконечный лист и сколько клеток было закрашено. Ответьте на один из этих вопросов.
 


\input{pictures/2018-10-C}

\informat{Четыре целых числа от 0 до $10^{18}$ --- $i_1$, $j_1$, $i_2$, $j_2$, координаты клеток, центры которых образуют начало и конец отрезка. Гарантируется, что точки не совпадают.}

\outformat{Одно целое положительное число --- количество закрашенных клеток.}

\examplee{6 0 0 10}{15}{5 3 7 7}{7}

\newpage

\subsection*{D. Digits again}

Так как Бекарыс уже научился находить четвёртые справа цифры факториалов, то теперь ему нужно более серьёзное испытание. Теперь он хочет найти три последние цифры числа 
\input{pictures/2018-10-D}
, или что почти то же самое, остаток от деления этого числа на 1000.

\informat{Даны три целых числа $a$, $b$, $n$ от 1 до $10^{18}$.}

\outformat{Одно целое положительное число --- последние три цифры числа (без ведущих нулей).}

\examplee{1 1 1}{2}{1 3 10}{168}

\newpage

\subsection*{E. Emirates}

\input{pictures/2018-10-E}

\informat{Одно целое число от 1 до 1024.}

\exampleee{2}{10}{3}{10}{4}{11}

\newpage

\subsection*{F. Finding battleships}

Куат и Павел пытаются написать программу, играющую в модифицированный морской бой. Отличия от стандартных правил таковы: \newline
1) корабли могут быть прямоугольниками произвольного размера; \newline
2) корабли могут соприкасаться углами, но касание сторонами всё ещё запрещено; \newline
3) поле может быть прямоугольником произвольного размера. \newline
Пока у них не получается научить компьютер расставлять корабли. Посмотрите на их расстановку и попробуйте найти, сколько на ней легально расставленных кораблей. Более того, необходимо найти, сколько среди этих кораблей вертикальных (то есть, у которых высота больше ширина), горизонтальных (высота меньше ширины) и квадратных (высота равна ширине).

\informat{В первой строке даны два целых числа $M$, $N$ от 1 до 100. На следующих $M$ строках дана матрица $M \times N$ из символов 'X' и '.'. Пустые клетки обозначены точками, занятые --- буквой ‘X’. }

\outformat{Три целых числа через пробел --- количество вертикальных, горизонтальных и квадратных кораблей.}

\example{
6 6\newline
XX..XX\newline
X...XX\newline
.XX.XX\newline
.XX...\newline
X..XX.\newline
.XX..X
}{1 2 3}

\newpage

\subsection*{G. Geometrying}

Курса аналитической геометрии Таиру оказалось недостаточно, и он хочет большего. Помогите ему узнать, какая фигура получается, если пересечь куб $0 \leqslant x, y, z \leqslant a$ плоскостью, проходящей через точки с координатами $(p, 0, 0)$, $(0, q, 0)$ и $(0, 0, r)$.

\informat{В первой строке дано число $a$ от 1 до 1000. Во второй строке даны три целых числа $p$, $q$, $r$ от 1 до $1000$.}

\outformat{Одно целое неотрицательное число $n$ --- количество вершин многоугольника, полученного сечением. Если в сечении получается точка --- вывести 1, если сечения нет --- вывести 0.}

\exampleee{
2 \newline
1 1 1}{3}{
2\newline
3 3 3}{6}{
2 \newline
2 3 4}{5}

\newpage

\subsection*{H. Highest and greatest only}

Димитрий считает, что от жизни нужно брать только лучшее, а от чисел только их максимальные цифры. Вот он и выписал для каждого числа от $L$ до $R$ включительно его максимальную цифру. Какое число получится, если сложить все эти цифры?

\informat{Даны два целых числа $L$, $R$ от 1 до $10^{18}$, причем $L \leqslant R$.}

\outformat{Одно целое неотрицательное число --- ответ на задачу по модулю $(10^9 + 7)$.}

\example{12 21}{48}

\newpage

\subsection*{I. Into the mountains}

Алан, как начинающий альпинист, решил ввести определение горы и в математике. Так, последовательность с нечётным количеством чисел он называет горой, если первая её половина вместе с центральным элементом упорядочена по возрастанию, а вторая (так же вместе с центральным элементом) --- по убыванию. Найдите в данной последовательности максимальный подотрезок, являющийся горой.

\informat{В первой строке дано целое $N$ от 1 до $10^5$. Во второй строке даны $N$ целых чисел от $-10^9$ до $10^9$.}

\outformat{Два целых числа --- левая и правая граница горы включительно. Если ответов несколько, вывести границы самой левой горы.}

\example{10\newline
5 3 1 2 5 9 7 1 3 2}{4 8}

\excomm{в данном примере горами длины больше 1 являются подотрезки (2, 5, 9, 7, 1), (5, 9, 7) и (1, 3, 2)}


\end{document} 
